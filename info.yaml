(using_atk_version): 1.0
(project):
    name: A Project
    description: A new project
    
    commands: &commands # if you dont know what the & means, see https://blog.daemonl.com/2016/02/yaml.html
        run: ruby test/main.rb
        setup: |
            gem install gem-release
        publish: !language/ruby |
            require 'atk_toolbox'
            -"gem bump" or exit
            -"gem build atk_toolbox.gemspec" or exit
            require_relative './lib/atk_toolbox/version.rb'
            -"gem push \"atk_toolbox-#{AtkToolbox::VERSION}.gem\"" or exit
        local-update:
            sudo /usr/bin/gem install atk_toolbox
    dependencies: &dependencies
        atk: 0.0.1
            
    (advanced_setup):
        (put_new_dependencies_under): [ '(project)', 'basic_info', 'dependencies' ]
        # caveats for a specific OS
        when(--os is 'mac'):
            (project_commands):
                <<: *commands
            (dependencies):
                <<: *dependencies
            
        when(--os is 'windows'):
            (project_commands):
                <<: *commands
            (dependencies):
                <<: *dependencies
                
        when(--os is 'linux'):
            (project_commands):
                <<: *commands
            (dependencies):
                <<: *dependencies
