(using_atk_version): 0.0
(project):
    name: A Project
    description: A new project
    
    paths: &paths
        root: ./
        testing_folder: &tests ./code/tests
        cpp_tests: [ *tests, cpp ]
    
    commands: &commands # if you dont know what the & means, see https://blog.daemonl.com/2016/02/yaml.html
        build_mac: !language/ruby |
            require 'atk_toolbox'
            file = FS.read('./mac/setup_readable_version.sh')
            # remove comments
            file.gsub!(/^ *#.+\n/, "")
            # make everything a single line
            file = file.split("\n").join(";")
            # save
            FS.write(file, to: './mac/setup.sh')

    dependencies: &dependencies
        atk: 0.0.1
    
    (advanced_setup):
        (paths):
            <<: *paths
        (put_new_dependencies_under): [ '(project)', 'basic_info', 'dependencies' ]
        # caveats for a specific OS
        when(--os is 'mac'):
            (project_commands):
                <<: *commands
            (dependencies):
                <<: *dependencies
            
        when(--os is 'windows'):
            (project_commands):
                <<: *commands
            (dependencies):
                <<: *dependencies
                
        when(--os is 'linux'):
            (project_commands):
                <<: *commands
            (dependencies):
                <<: *dependencies
